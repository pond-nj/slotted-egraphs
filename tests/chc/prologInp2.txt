append(X, Y, Z) :- X = [], Y = Z.
append(X, Y, Z) :- X = [T|X1], Z = [T|Z1], append(X1, Y, Z1).

whl1(A,B,X,Y,A2,B2,X2,Y2) :- A = A2,B = B2,X = X2, Y = Y2, A >= B.
whl1(A,B,X,Y,A2,B2,X2,Y2) :- A =< B-1, A1=A+1, append(X, [A], X1), append(Y, X, Y1), whl1(A1,B,X1,Y1,A2,B2,X2,Y2).
ifte(A,B,X,Y,A2,B2,X2,Y2) :- A >= B, A2 = A,B2 = B,X2 = X,Y2 = Y.
ifte(A,B,X,Y,A2,B2,X2,Y2) :- A =< B-1, LA = [A], append(X, LA, X1), whl2(A,B,X1,Y,A2,B2,X2,Y2).
whl2(A,B,X,Y,A2,B2,X2,Y2) :- B2 = B,X = X2, A >= B-1, A2=A+1, append(Y, X, Y2).
whl2(A,B,X,Y,A2,B2,X2,Y2) :- A =< B-2, A1 = A + 1, append(X, [A1], X1), append(Y, X, Y1), whl2(A1,B,X1,Y1,A2,B2,X2,Y2).

sum_list(X, Y) :- X = [], Y = 0.
sum_list(X, Y) :- X = [H|T], Y = S, sum_list(T, S1), S = H + S1.